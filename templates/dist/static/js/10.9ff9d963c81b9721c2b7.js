webpackJsonp([10],{ZkgT:function(e,t){},sn1q:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("Dd8w"),a=r.n(i),s=r("w7XY"),o=r("NYxO"),l={data:function(){return{active:0,Three:0,ruleForm:{p_name:"",p_dashboard:"",p_description:"",p_type:"",p_customer_type:"",p_party_a:"",p_purchase_time:"",p_setup_time:"",p_built_time:"",p_contact_name:"",p_contact_number:"",p_province:"",p_city:"",p_address:""},rules:{p_name:[{required:!0,message:"请输入项目名称",trigger:"blur"}],p_dashboard:[{required:!0,message:"请输入组态画面地址",trigger:"blur"},{type:"url",message:"请输入url地址",trigger:"blur"}],p_type:[{required:!0,message:"请输入项目类型",trigger:"blur"}],p_party_a:[{required:!0,message:"请输入甲方单位",trigger:"blur"}],p_province:[{required:!0,message:"请输入省份",trigger:"blur"}],p_city:[{required:!0,message:"请输入城市",trigger:"blur"}],p_address:[{required:!0,message:"请输入地址",trigger:"blur"}]},project_id:""}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.ruleForm.company_id=t.$route.query.company_id,t.ruleForm.user_id=t.buserInfo.user_id,s.a.createproject(t.ruleForm).then(function(e){"200"==e.data.code[0]?(t.active=2,t.project_id=e.data.project_id):t.$message.error("项目创建不成功，请重新创建")})})},resetForm:function(e){this.$refs[e].resetFields()},Fncomplete:function(){this.$router.push({path:"/bkIndex/bkprojectManagement",query:{company_id:this.$route.query.company_id}})},Fnsignproject:function(){this.active=2,this.Three=2,this.$router.push({path:"/bkIndex/bkaddprojectManagement/signproject",query:{company_id:this.$route.query.company_id,project_id:this.project_id}})},Fnapplycollectdevice:function(){this.active=2,this.Three=2,this.$router.push({path:"/bkIndex/bkaddprojectManagement/applycollectdevice",query:{company_id:this.$route.query.company_id,project_id:this.project_id,type:"添加"}})}},computed:a()({},Object(o.c)(["buserInfo"]))},p={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"title"},[e._v("\n      添加项目\n    ")]),e._v(" "),r("div",{staticClass:"MFprojectManagementBox"},[r("el-steps",{attrs:{active:e.active}},[r("el-step",{attrs:{title:"项目须知",description:"项目新建所需要了解的内容"}}),e._v(" "),r("el-step",{attrs:{title:"填写项目信息",description:"项目名称，内容等"}}),e._v(" "),r("el-step",{attrs:{title:"新建完毕",description:"引导提示"}})],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:0==e.active,expression:"active==0"}],staticClass:"TipBox"},[r("div",{staticClass:"TipList"},[r("svg",{staticClass:"icon icDefault"},[r("use",{attrs:{"xlink:href":"#icon-wenjian"}})]),e._v(" "),r("div",{staticClass:"Tip"},[e._v("\n                  创建项目：填写项目信息，向项目绑定网关\n              ")])]),e._v(" "),r("div",{staticClass:"TipList"},[r("svg",{staticClass:"icon icDefault"},[r("use",{attrs:{"xlink:href":"#icon-ziyuanxhdpi"}})]),e._v(" "),r("div",{staticClass:"Tip"},[e._v("\n                  用户和权限：设置项目的成员，以及访问权限\n              ")])]),e._v(" "),r("div",{staticClass:"TipList"},[r("svg",{staticClass:"icon icDefault"},[r("use",{attrs:{"xlink:href":"#icon-duihaocheckmark17"}})]),e._v(" "),r("div",{staticClass:"Tip"},[e._v("\n                  基本的项目创建与配置完成后，可以设置组态画面，进行图形化数据展示\n              ")])]),e._v(" "),r("div",{staticClass:"BtnBox"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.active=1}}},[e._v("下一步")])],1)]),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:1==e.active,expression:"active==1"}],staticClass:"TipBox_two"},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"项目名称",prop:"p_name"}},[r("el-input",{model:{value:e.ruleForm.p_name,callback:function(t){e.$set(e.ruleForm,"p_name",t)},expression:"ruleForm.p_name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"画面地址",prop:"p_dashboard"}},[r("el-input",{model:{value:e.ruleForm.p_dashboard,callback:function(t){e.$set(e.ruleForm,"p_dashboard",t)},expression:"ruleForm.p_dashboard"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"省",prop:"p_province"}},[r("el-input",{model:{value:e.ruleForm.p_province,callback:function(t){e.$set(e.ruleForm,"p_province",t)},expression:"ruleForm.p_province"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"市",prop:"p_city"}},[r("el-input",{model:{value:e.ruleForm.p_city,callback:function(t){e.$set(e.ruleForm,"p_city",t)},expression:"ruleForm.p_city"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"甲方单位",prop:"p_party_a"}},[r("el-input",{model:{value:e.ruleForm.p_party_a,callback:function(t){e.$set(e.ruleForm,"p_party_a",t)},expression:"ruleForm.p_party_a"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"采购日期",prop:"p_purchase_time"}},[r("el-date-picker",{attrs:{type:"date",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.ruleForm.p_purchase_time,callback:function(t){e.$set(e.ruleForm,"p_purchase_time",t)},expression:"ruleForm.p_purchase_time"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"竣工日期",prop:"p_built_time"}},[r("el-date-picker",{attrs:{type:"date",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.ruleForm.p_built_time,callback:function(t){e.$set(e.ruleForm,"p_built_time",t)},expression:"ruleForm.p_built_time"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"联系人姓名",prop:"p_contact_name"}},[r("el-input",{model:{value:e.ruleForm.p_contact_name,callback:function(t){e.$set(e.ruleForm,"p_contact_name",t)},expression:"ruleForm.p_contact_name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"联系人的电话",prop:"p_contact_number"}},[r("el-input",{model:{value:e.ruleForm.p_contact_number,callback:function(t){e.$set(e.ruleForm,"p_contact_number",t)},expression:"ruleForm.p_contact_number"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"客户类型",prop:"p_customer_type"}},[r("el-input",{model:{value:e.ruleForm.p_customer_type,callback:function(t){e.$set(e.ruleForm,"p_customer_type",t)},expression:"ruleForm.p_customer_type"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"项目类型",prop:"p_type"}},[r("el-input",{model:{value:e.ruleForm.p_type,callback:function(t){e.$set(e.ruleForm,"p_type",t)},expression:"ruleForm.p_type"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"地址",prop:"p_address"}},[r("el-input",{model:{value:e.ruleForm.p_address,callback:function(t){e.$set(e.ruleForm,"p_address",t)},expression:"ruleForm.p_address"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"安装时间",prop:"p_setup_time"}},[r("el-date-picker",{attrs:{type:"date",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.ruleForm.p_setup_time,callback:function(t){e.$set(e.ruleForm,"p_setup_time",t)},expression:"ruleForm.p_setup_time"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"项目简介",prop:"p_description"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.p_description,callback:function(t){e.$set(e.ruleForm,"p_description",t)},expression:"ruleForm.p_description"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("保存")]),e._v(" "),r("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")]),e._v(" "),r("el-button",{on:{click:function(t){e.active=0}}},[e._v("上一步")])],1)],1)],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:2==e.active&&0==e.Three,expression:"active==2 && Three==0"}],staticClass:"TipBox_two"},[e._m(0),e._v(" "),r("div",{staticClass:"ThreeTip"},[e._v("\n              1、设置该项目对应的网关，显示采集的实时数据、历史数据和告警。\n              "),r("el-button",{staticClass:"ThreeTip_Btn",attrs:{type:"primary"},on:{click:e.Fnapplycollectdevice}},[e._v("添加采集设备")])],1),e._v(" "),r("div",{staticClass:"ThreeTip"},[e._v("\n              2、设置该项目对应的成员和访问权限。\n              "),r("el-button",{staticClass:"ThreeTip_Btn",attrs:{type:"primary"},on:{click:e.Fnsignproject}},[e._v("关联成员")])],1),e._v(" "),r("el-button",{staticClass:"complete",attrs:{type:"primary"},on:{click:e.Fncomplete}},[e._v("完成")])],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:1==e.Three,expression:"Three==1"}]},[r("el-button",{staticStyle:{"margin-top":"20px","margin-left":"20px"},attrs:{type:"primary"},on:{click:function(t){e.Three=0}}},[e._v("返回")]),e._v("\n              关联网关\n          ")],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:2==e.Three,expression:"Three==2"}]},[r("el-button",{staticStyle:{"margin-top":"20px","margin-left":"20px"},attrs:{type:"primary"},on:{click:function(t){e.Three=0}}},[e._v("返回")]),e._v(" "),r("router-view")],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:3==e.Three,expression:"Three==3"}]},[r("el-button",{staticStyle:{"margin-top":"20px","margin-left":"20px"},attrs:{type:"primary"},on:{click:function(t){e.Three=0}}},[e._v("返回")]),e._v("\n              组态画面\n          ")],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:4==e.Three,expression:"Three==4"}]},[r("el-button",{staticStyle:{"margin-top":"20px","margin-left":"20px"},attrs:{type:"primary"},on:{click:function(t){e.Three=0}}},[e._v("返回")]),e._v("\n              模块设置\n          ")],1)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"TipBox_two_tit"},[this._v("\n              项目基础信息创建完成！\n              "),t("span",[this._v("请根据需求进行如下操作")])])}]};var n=r("VU/8")(l,p,!1,function(e){r("ZkgT")},"data-v-fcd38280",null);t.default=n.exports}});
//# sourceMappingURL=10.9ff9d963c81b9721c2b7.js.map