webpackJsonp([6],{"6g58":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("Dd8w"),o=s.n(n),a=s("w7XY"),i=s("NYxO"),r={data:function(){return{LInfo:{ph:"",password:""}}},methods:o()({},Object(i.b)(["getuserInfo","getcompanyname"]),{FnLBtn:function(){var e=this;a.a.userName(this.LInfo).then(function(t){if("200"==t.data.code[0]){var s=t.data.data[0].fields;s.user_id=t.data.data[0].pk,e.getuserInfo(s),sessionStorage.setItem("logi","成功"),e.getcompanyname(t.data.companyname),s.is_staff?e.$router.push("/index/MFprojectManagement"):e.$router.push("/UserInformation/UItwo")}else e.$message.error(t.data.message[0])})},Fnforget:function(){this.$router.push("/forget")}})},c={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-input",{staticClass:"L_inp",attrs:{placeholder:"请输入用户名"},model:{value:e.LInfo.ph,callback:function(t){e.$set(e.LInfo,"ph",t)},expression:"LInfo.ph"}},[s("svg",{staticClass:"icon icLogo",attrs:{slot:"prefix"},slot:"prefix"},[s("use",{attrs:{"xlink:href":"#icon-ziyuanxhdpi"}})])]),e._v(" "),s("el-input",{staticClass:"L_inp",attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.LInfo.password,callback:function(t){e.$set(e.LInfo,"password",t)},expression:"LInfo.password"}},[s("svg",{staticClass:"icon icLogo",attrs:{slot:"prefix"},slot:"prefix"},[s("use",{attrs:{"xlink:href":"#icon-mima1"}})])]),e._v(" "),s("div",{staticClass:"forget",on:{click:function(t){return e.Fnforget()}}},[e._v("\n    忘记密码？\n  ")]),e._v(" "),s("el-button",{staticClass:"L_btn",attrs:{type:"primary"},on:{click:function(t){return e.FnLBtn()}}},[e._v("登陆")])],1)},staticRenderFns:[]};var l=s("VU/8")(r,c,!1,function(e){s("cnAw")},"data-v-25f2ebf7",null).exports,d={data:function(){return{LInfo:{username:"",phone_numbers:"15315287416",password:"222222",pwd2:"222222",code:"",image_code:""},wait:"发送验证码",DYdisabled:!1,getCode:"",image_code_url:"",uuid:""}},props:{regsuccess:Function},methods:{FnLBtn:function(){var e=this,t=this.LInfo;""==t.username||""==t.phone_numbers||""==t.password||""==t.code?this.$message.error("所有信息不能为空"):/^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d{8}$/.test(t.phone_numbers)?/^(\w){6,20}$/.test(t.password)?t.password!=t.pwd2?this.$message.error("密码输入不一致"):t.code!=this.getCode?this.$message.error("验证码不正确或手机号已注册"):a.a.reg(o()({},this.LInfo)).then(function(t){200==t.data.code[0]?(e.$message.success(t.data.message[0]),e.regsuccess(),e.LInfo={},e.getCode=""):e.$message.error(t.data.message[0])}):this.$message.error("请输入6-20个字母、数字、下划线"):this.$message.error("手机号不正确")},FnTimeY:function(){var e=this;if(/^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d{8}$/.test(this.LInfo.phone_numbers)&&""!=this.LInfo.image_code){if(!this.DYdisabled){this.DYdisabled=!0;var t=60;a.a.yzm({image_code:this.LInfo.image_code,uuid:this.uuid},this.LInfo.phone_numbers).then(function(t){200==t.data.code?(e.$message.success("发送成功"),e.getCode=t.data.getCode):e.$message.error(t.data.errmsg)}).catch(function(e){});var s=setInterval(function(){t<=0?(clearInterval(s),e.wait="发送验证码",e.DYdisabled=!1):e.wait=--t},1e3)}}else this.$message.error("手机格式不正确或图片验证码为空")},Fnimage_code_url:function(){this.uuid=this.generateUUID(),this.image_code_url=this.code_image_url+this.uuid+"/"},generateUUID:function(){var e=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var s=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?s:3&s|8).toString(16)})}},computed:o()({},Object(i.c)(["code_image_url"])),mounted:function(){this.Fnimage_code_url()}},u={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-input",{staticClass:"L_inp",attrs:{placeholder:"请输入用户名"},model:{value:e.LInfo.username,callback:function(t){e.$set(e.LInfo,"username",t)},expression:"LInfo.username"}},[s("svg",{staticClass:"icon icLogo",attrs:{slot:"prefix"},slot:"prefix"},[s("use",{attrs:{"xlink:href":"#icon-ziyuanxhdpi"}})])]),e._v(" "),s("el-input",{staticClass:"L_inp",attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.LInfo.password,callback:function(t){e.$set(e.LInfo,"password",t)},expression:"LInfo.password"}},[s("svg",{staticClass:"icon icLogo",attrs:{slot:"prefix"},slot:"prefix"},[s("use",{attrs:{"xlink:href":"#icon-mima1"}})])]),e._v(" "),s("el-input",{staticClass:"L_inp",attrs:{type:"password",placeholder:"请输入密码确认"},model:{value:e.LInfo.pwd2,callback:function(t){e.$set(e.LInfo,"pwd2",t)},expression:"LInfo.pwd2"}},[s("svg",{staticClass:"icon icLogo",attrs:{slot:"prefix"},slot:"prefix"},[s("use",{attrs:{"xlink:href":"#icon-mima1"}})])]),e._v(" "),s("el-input",{staticClass:"L_inp",attrs:{placeholder:"请输入图片验证码"},model:{value:e.LInfo.image_code,callback:function(t){e.$set(e.LInfo,"image_code",t)},expression:"LInfo.image_code"}},[s("svg",{staticClass:"icon icLogo",attrs:{slot:"prefix"},slot:"prefix"},[s("use",{attrs:{"xlink:href":"#icon-yanzhengma"}})]),e._v(" "),s("img",{staticClass:"Verification",attrs:{slot:"suffix",src:e.image_code_url,alt:""},on:{click:function(t){return e.Fnimage_code_url()}},slot:"suffix"})]),e._v(" "),s("el-input",{staticClass:"L_inp",attrs:{placeholder:"请输入手机号"},model:{value:e.LInfo.phone_numbers,callback:function(t){e.$set(e.LInfo,"phone_numbers",t)},expression:"LInfo.phone_numbers"}},[s("svg",{staticClass:"icon icLogo",attrs:{slot:"prefix"},slot:"prefix"},[s("use",{attrs:{"xlink:href":"#icon-shoujihaoma"}})])]),e._v(" "),s("el-input",{staticClass:"L_inp",attrs:{placeholder:"请输入验证码"},model:{value:e.LInfo.code,callback:function(t){e.$set(e.LInfo,"code",t)},expression:"LInfo.code"}},[s("svg",{staticClass:"icon icLogo",attrs:{slot:"prefix"},slot:"prefix"},[s("use",{attrs:{"xlink:href":"#icon-yanzhengma"}})]),e._v(" "),s("el-button",{staticClass:"Verification",attrs:{slot:"suffix",disabled:e.DYdisabled,size:"medium"},on:{click:function(t){return e.FnTimeY()}},slot:"suffix"},[e._v(e._s(e.wait))])],1),e._v(" "),s("el-button",{staticClass:"L_btn",attrs:{type:"primary"},on:{click:function(t){return e.FnLBtn()}}},[e._v("注册")])],1)},staticRenderFns:[]};var f={data:function(){return{Dpattern_active:!0,Dmode:[{mode:"登陆",tem:"userName"},{mode:"注册",tem:"phoneReg"}],Dmode_ind:"phoneReg"}},methods:{FnPatternL:function(){this.Dpattern_active=!0},FnPatternR:function(){this.Dpattern_active=!1,this.Dmode_ind="phone"},FnMode:function(e){this.Dmode_ind=e},FnRMode:function(e){this.DRmode_ind=e},regsuccess:function(){this.Dmode_ind="userName"}},components:{userName:l,phoneReg:s("VU/8")(d,u,!1,function(e){s("UG7T")},"data-v-63c90177",null).exports}},p={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login"},[s("div",{staticClass:"loginBox"},[s("div",{staticClass:"L_tit"},[e._v("达摩智联")]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.Dpattern_active,expression:"Dpattern_active"}],staticClass:"mode"},e._l(e.Dmode,function(t,n){return s("div",{key:n,class:{mode_active:t.tem==e.Dmode_ind},on:{click:function(s){return e.FnMode(t.tem)}}},[e._v(e._s(t.mode))])}),0),e._v(" "),s(e.Dmode_ind,{tag:"div",attrs:{regsuccess:e.regsuccess}})],1)])},staticRenderFns:[]};var m=s("VU/8")(f,p,!1,function(e){s("Dbzm")},"data-v-03225142",null);t.default=m.exports},Dbzm:function(e,t){},UG7T:function(e,t){},cnAw:function(e,t){}});
//# sourceMappingURL=6.6b81b9cbc93007fbcd53.js.map