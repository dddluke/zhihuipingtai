webpackJsonp([45],{"SQu+":function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t("Dd8w"),n=t.n(r),o=t("w7XY"),s=t("NYxO"),c={data:function(){return{form:{company_name:"",company_address:"",context:""},rules:{company_name:[{required:!0,message:"请输入公司名称",trigger:"blur"}],company_address:[{required:!0,message:"请输入公司地址",trigger:"blur"}],context:[{required:!0,message:"请输入公司具体信息",trigger:"blur"}]},param:new FormData,src:""}},methods:n()({},Object(s.b)(["getuserInfo"]),{beforeupload:function(e){var a=window.URL||window.webkitURL;return this.src=a.createObjectURL(e),this.param.append("company_icon",e),!1},onSubmit:function(){var e=this;this.$refs.form.validate(function(a){if(!a)return!1;if(e.src){var t=e.form;e.param.append("company_name",t.company_name),e.param.append("user_id",e.userInfo.user_id),e.param.append("company_address",t.company_address),e.param.append("context",t.context),o.a.createcompany(e.param).then(function(a){"200"!=a.data.code[0]&&"973"!=a.data.code[0]||(e.FngetUserInformation(),e.$router.push("/UserInformation/myCompany")),a.data.code[0],e.$message.success(a.data.message[0])}).catch(function(e){})}else e.$message.error("没有上传头像图片")})},FngetUserInformation:function(){var e=this;o.a.getUserInformation({user_id:this.userInfo.user_id}).then(function(a){var t=a.data.data[0].fields;t.user_id=a.data.data[0].pk,e.getuserInfo(t)}).catch(function(e){})}}),mounted:function(){},computed:n()({},Object(s.c)(["userInfo"]))},m={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("label",{staticClass:"el-form-item__label",staticStyle:{width:"120px"}},[e._v("\n    公司头像\n  ")]),e._v(" "),t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","show-file-list":!1,"before-upload":e.beforeupload}},[e.src?t("img",{staticClass:"avatar",attrs:{src:e.src}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e._v(" "),t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[t("el-form-item",{attrs:{label:"公司名称",prop:"company_name"}},[t("el-input",{model:{value:e.form.company_name,callback:function(a){e.$set(e.form,"company_name",a)},expression:"form.company_name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"公司地址",prop:"company_address"}},[t("el-input",{model:{value:e.form.company_address,callback:function(a){e.$set(e.form,"company_address",a)},expression:"form.company_address"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"公司具体信息",prop:"context"}},[t("el-input",{attrs:{type:"textarea",rows:6,placeholder:"请输入内容"},model:{value:e.form.context,callback:function(a){e.$set(e.form,"context",a)},expression:"form.context"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("创建")])],1)],1)],1)},staticRenderFns:[]};var i=t("VU/8")(c,m,!1,function(e){t("jN/t")},"data-v-42abc751",null);a.default=i.exports},"jN/t":function(e,a){}});
//# sourceMappingURL=45.9c48415fb7a926b44b2b.js.map