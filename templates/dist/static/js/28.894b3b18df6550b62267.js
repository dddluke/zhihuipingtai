webpackJsonp([28],{IOvd:function(t,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=n("Dd8w"),i=n.n(e),o=n("w7XY"),l=n("NYxO"),r={data:function(){return{Dcompanylist:[],tableData:[],gridData:[],gridData_imgurl:"",dialogTableVisible:!1,formInline:{company_name:""}}},methods:{Fngetcompanylist:function(){var t=this;o.a.companylist().then(function(a){if(200==a.data.code[0]){var n=[];a.data.data.forEach(function(t){t.fields.company_id=t.pk,n.push(t.fields)}),t.tableData=n}})},gotocompany:function(t){var a=this;o.a.joincompany({user_id:this.userInfo.user_id,company_id:t}).then(function(t){200==t.data.code&&a.$message(t.data.message[0])})},companyprofile:function(t){var a=this;this.dialogTableVisible=!0,o.a.companyprofile({company_id:t}).then(function(t){a.gridData=t.data.data[0].fields,a.gridData_imgurl=a.static+a.gridData.company_icon})},onSubmit:function(){var t=this;o.a.selectcompany(this.formInline).then(function(a){if(200==a.data.code[0]){var n=[];a.data.data.forEach(function(t){t.fields.company_id=t.pk,n.push(t.fields)}),t.tableData=n}else t.$message.error(a.data.message[0])})}},mounted:function(){},computed:i()({},Object(l.c)(["userInfo","static"]))},s={render:function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("div",{staticClass:"title"},[t._v("\n      加入公司\n  ")]),t._v(" "),n("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formInline}},[n("el-form-item",{attrs:{label:"搜索要加入的公司名称"}},[n("el-input",{attrs:{placeholder:"公司名称"},model:{value:t.formInline.company_name,callback:function(a){t.$set(t.formInline,"company_name",a)},expression:"formInline.company_name"}})],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("搜索")])],1)],1),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[n("el-table-column",{attrs:{prop:"company_name",label:"公司名称"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作",width:"280"},scopedSlots:t._u([{key:"default",fn:function(a){return[n("el-button",{attrs:{type:"warning"},on:{click:function(n){return t.companyprofile(a.row.company_id)}}},[t._v("查看")]),t._v(" "),n("el-button",{attrs:{type:"primary"},nativeOn:{click:function(n){return t.gotocompany(a.row.company_id)}}},[t._v("加入公司")])]}}])})],1),t._v(" "),n("el-dialog",{attrs:{title:"公司详情",visible:t.dialogTableVisible},on:{"update:visible":function(a){t.dialogTableVisible=a}}},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:8}},[t._v("\n              公司头像:\n          ")]),t._v(" "),n("el-col",{attrs:{span:16}},[n("img",{staticClass:"imgxId",attrs:{src:t.gridData_imgurl,alt:""}})])],1),t._v(" "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:8}},[t._v("\n              公司名称:\n          ")]),t._v(" "),n("el-col",{attrs:{span:16}},[t._v("\n              "+t._s(t.gridData.company_name)+"\n          ")])],1),t._v(" "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:8}},[t._v("\n              公司地址:\n          ")]),t._v(" "),n("el-col",{attrs:{span:16}},[t._v("\n              "+t._s(t.gridData.company_address)+"\n          ")])],1),t._v(" "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:8}},[t._v("\n              公司简介:\n          ")]),t._v(" "),n("el-col",{attrs:{span:16}},[t._v("\n              "+t._s(t.gridData.context?t.gridData.context:"无")+"\n          ")])],1)],1)],1)},staticRenderFns:[]};var c=n("VU/8")(r,s,!1,function(t){n("nNfQ")},"data-v-7ba3939e",null);a.default=c.exports},nNfQ:function(t,a){}});
//# sourceMappingURL=28.894b3b18df6550b62267.js.map