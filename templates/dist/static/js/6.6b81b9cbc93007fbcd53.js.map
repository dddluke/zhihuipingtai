{"version":3,"sources":["webpack:///src/components/login/userName.vue","webpack:///./src/components/login/userName.vue?37e1","webpack:///./src/components/login/userName.vue","webpack:///src/components/login/phoneReg.vue","webpack:///./src/components/login/phoneReg.vue?b489","webpack:///./src/components/login/phoneReg.vue","webpack:///src/components/login/newLogin.vue","webpack:///./src/components/login/newLogin.vue?01b9","webpack:///./src/components/login/newLogin.vue"],"names":["userName","data","LInfo","ph","password","methods","extends_default","Object","vuex_esm","FnLBtn","_this","this","api","then","res","code","xx","fields","user_id","pk","getuserInfo","sessionStorage","setItem","getcompanyname","companyname","is_staff","$router","push","$message","error","message","Fnforget","login_userName","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","placeholder","model","value","callback","$$v","$set","expression","slot","xlink:href","_v","type","on","click","$event","staticRenderFns","components_login_userName","__webpack_require__","normalizeComponent","ssrContext","phoneReg","username","phone_numbers","pwd2","image_code","wait","DYdisabled","getCode","image_code_url","uuid","props","regsuccess","Function","info","test","reg","success","FnTimeY","_this2","tiem","yzm","errmsg","catch","err","trmer","setInterval","clearInterval","Fnimage_code_url","generateUUID","code_image_url","d","Date","getTime","window","performance","now","replace","c","r","Math","random","floor","toString","computed","mounted","login_phoneReg","src","alt","disabled","size","_s","newLogin","Dpattern_active","Dmode","mode","tem","Dmode_ind","FnPatternL","FnPatternR","FnMode","i","FnRMode","DRmode_ind","components","phoneReg_normalizeComponent","login_newLogin","directives","name","rawName","_l","item","index","key","class","mode_active","tag","newLogin_Component","newLogin_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/6.6b81b9cbc93007fbcd53.js","sourcesContent":["<template>\r\n    <div>\r\n      <!-- 用户密码登录开始 -->\r\n      <el-input class=\"L_inp\" v-model=\"LInfo.ph\" placeholder=\"请输入用户名\">\r\n        <svg slot=\"prefix\" class=\"icon icLogo\">\r\n          <use xlink:href=\"#icon-ziyuanxhdpi\"></use>\r\n        </svg>\r\n      </el-input>\r\n      <el-input class=\"L_inp\" type=\"password\" v-model=\"LInfo.password\" placeholder=\"请输入密码\">\r\n        <svg slot=\"prefix\" class=\"icon icLogo\">\r\n          <use xlink:href=\"#icon-mima1\"></use>\r\n        </svg>\r\n      </el-input>\r\n      <div class=\"forget\" @click=\"Fnforget()\">\r\n        忘记密码？\r\n      </div>\r\n      <el-button class=\"L_btn\" @click=\"FnLBtn()\" type=\"primary\">登陆</el-button>\r\n      <!-- 用户密码登录结束 -->\r\n    </div>\r\n</template>\r\n<script>\r\nimport axios from \"../../common/api\";\r\nimport { mapActions } from 'vuex'\r\nexport default {\r\n    data() {\r\n    return {\r\n      LInfo: {\r\n          ph:'',\r\n          password:''\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n      ...mapActions(['getuserInfo','getcompanyname']),\r\n      FnLBtn(){//这是点击登陆按钮\r\n          axios.userName(this.LInfo)\r\n          .then((res)=>{\r\n              // localStorage.setItem(\"user_id\",);\r\n              // this.getUser_id(res.data.user_id[0])\r\n              // this.$router.push('/xxdetfult')\r\n\r\n              if(res.data.code[0]==\"200\"){\r\n                console.log(res,'---------------')\r\n                \r\n                let xx=res.data.data[0].fields\r\n                xx.user_id=res.data.data[0].pk\r\n                this.getuserInfo(xx)\r\n                sessionStorage.setItem('logi', '成功');\r\n                this.getcompanyname(res.data.companyname)\r\n                if(xx.is_staff){//是否有公司或是员工\r\n                  this.$router.push('/index/MFprojectManagement')//去设备管理\r\n                }else{\r\n                  this.$router.push('/UserInformation/UItwo')//个人信息\r\n                }\r\n\r\n              }else{\r\n                this.$message.error(res.data.message[0]);\r\n              }\r\n          })\r\n      },\r\n      Fnforget(){\r\n        this.$router.push('/forget')\r\n      }\r\n  },\r\n}\r\n</script>\r\n<style lang='stylus' scoped>\r\n.L_inp {\r\n  margin-bottom: 20px;\r\n}\r\n.L_btn {\r\n  width: 100%;\r\n} \r\n.forget{\r\n  color #409EFF\r\n  font-size 14px\r\n  text-align right \r\n  padding-right 15px\r\n  margin-bottom 15px\r\n  margin-top -8px\r\n}\r\n.icLogo\r\n    padding 12px 0px 0px 4px\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/login/userName.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-input',{staticClass:\"L_inp\",attrs:{\"placeholder\":\"请输入用户名\"},model:{value:(_vm.LInfo.ph),callback:function ($$v) {_vm.$set(_vm.LInfo, \"ph\", $$v)},expression:\"LInfo.ph\"}},[_c('svg',{staticClass:\"icon icLogo\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"},[_c('use',{attrs:{\"xlink:href\":\"#icon-ziyuanxhdpi\"}})])]),_vm._v(\" \"),_c('el-input',{staticClass:\"L_inp\",attrs:{\"type\":\"password\",\"placeholder\":\"请输入密码\"},model:{value:(_vm.LInfo.password),callback:function ($$v) {_vm.$set(_vm.LInfo, \"password\", $$v)},expression:\"LInfo.password\"}},[_c('svg',{staticClass:\"icon icLogo\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"},[_c('use',{attrs:{\"xlink:href\":\"#icon-mima1\"}})])]),_vm._v(\" \"),_c('div',{staticClass:\"forget\",on:{\"click\":function($event){return _vm.Fnforget()}}},[_vm._v(\"\\n    忘记密码？\\n  \")]),_vm._v(\" \"),_c('el-button',{staticClass:\"L_btn\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.FnLBtn()}}},[_vm._v(\"登陆\")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-25f2ebf7\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/login/userName.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-25f2ebf7\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./userName.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./userName.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./userName.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-25f2ebf7\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./userName.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-25f2ebf7\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/login/userName.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div>\r\n      <!-- 手机号注册开始 -->\r\n      <el-input class=\"L_inp\" v-model=\"LInfo.username\" placeholder=\"请输入用户名\">\r\n        <svg slot=\"prefix\" class=\"icon icLogo\">\r\n          <use xlink:href=\"#icon-ziyuanxhdpi\"></use>\r\n        </svg>\r\n      </el-input>\r\n      <el-input class=\"L_inp\" v-model=\"LInfo.password\" type=\"password\"  placeholder=\"请输入密码\">\r\n        <svg slot=\"prefix\" class=\"icon icLogo\">\r\n          <use xlink:href=\"#icon-mima1\"></use>\r\n        </svg>\r\n      </el-input>\r\n      <el-input class=\"L_inp\" v-model=\"LInfo.pwd2\" type=\"password\" placeholder=\"请输入密码确认\">\r\n        <svg slot=\"prefix\" class=\"icon icLogo\">\r\n          <use xlink:href=\"#icon-mima1\"></use>\r\n        </svg>\r\n      </el-input>\r\n      <el-input class=\"L_inp\" v-model=\"LInfo.image_code\" placeholder=\"请输入图片验证码\">\r\n        <svg slot=\"prefix\" class=\"icon icLogo\">\r\n          <use xlink:href=\"#icon-yanzhengma\"></use>\r\n        </svg>\r\n        <img :src=\"image_code_url\" slot=\"suffix\" class=\"Verification\" @click=\"Fnimage_code_url()\" alt=\"\">\r\n      </el-input>\r\n      <el-input class=\"L_inp\" v-model=\"LInfo.phone_numbers\" placeholder=\"请输入手机号\">\r\n        <svg slot=\"prefix\" class=\"icon icLogo\">\r\n          <use xlink:href=\"#icon-shoujihaoma\"></use>\r\n        </svg>\r\n      </el-input>\r\n      <el-input class=\"L_inp\" v-model=\"LInfo.code\" placeholder=\"请输入验证码\">\r\n        <svg slot=\"prefix\" class=\"icon icLogo\">\r\n          <use xlink:href=\"#icon-yanzhengma\"></use>\r\n        </svg>\r\n        <el-button slot=\"suffix\" class=\"Verification\" :disabled=\"DYdisabled\" @click=\"FnTimeY()\" size=\"medium\">{{wait}}</el-button>\r\n      </el-input>\r\n\r\n      <el-button class=\"L_btn\" @click=\"FnLBtn()\" type=\"primary\">注册</el-button>\r\n      <!-- 手机号注册结束 -->\r\n    </div>\r\n</template>\r\n<script>\r\n//验证\r\nimport url from '../../common/api'\r\nimport { mapState } from \"vuex\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      LInfo: {//提交的信息\r\n        username:'',\r\n        phone_numbers:'15315287416',\r\n        password:'222222',\r\n        pwd2:'222222',\r\n        code:'',\r\n        image_code:''\r\n      },\r\n      wait:'发送验证码',//验证码的html文字\r\n      DYdisabled:false,//验证码按钮是否被禁用\r\n      getCode:'',//获取的验证码\r\n      image_code_url:\"\",//图片验证码生成地址\r\n      uuid:''//获取图片验证和手机验证需要的东西\r\n    };\r\n  },\r\n  props:{//判断是登陆还是注册，改变按钮的文字\r\n    regsuccess:Function\r\n  },\r\n  methods: {\r\n      FnLBtn(){//点击注册按钮\r\n          //各种验证，然后和后天请求接口开始对数据是否正确\r\n          // 上传格式验证 手机号 -密码与确认密码，用户名 code码\r\n          let info=this.LInfo\r\n          let reg=/^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\\d{8}$/\r\n          var patrn=/^(\\w){6,20}$/;\r\n          if(info.username=='' || info.phone_numbers=='' || info.password=='' || info.code==''){\r\n            this.$message.error('所有信息不能为空');\r\n          }else if(!reg.test(info.phone_numbers)){\r\n            this.$message.error('手机号不正确');\r\n          }else if(!patrn.test(info.password)){\r\n            this.$message.error('请输入6-20个字母、数字、下划线');\r\n          }else if(info.password!=info.pwd2){\r\n            this.$message.error('密码输入不一致');\r\n          }else if(info.code!=this.getCode){\r\n            console.log(this.getCode,'---------验证码')\r\n            this.$message.error('验证码不正确或手机号已注册');\r\n          }else{\r\n            url.reg({\r\n              ...this.LInfo\r\n            }).then(res=>{\r\n              console.log(res,'-------------res注册返回值')\r\n              if(res.data.code[0]==200){\r\n                this.$message.success(res.data.message[0]);\r\n                this.regsuccess()\r\n                this.LInfo={}//登陆成功清除框\r\n                this.getCode=''//清除获取过来的验证码\r\n              }else{\r\n                this.$message.error(res.data.message[0]);\r\n              }\r\n\r\n            })\r\n          }\r\n      },\r\n      FnTimeY(){//点击发送验证码触发的方法\r\n        // 验证和验证码请求\r\n        let reg=/^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\\d{8}$/\r\n        if(reg.test(this.LInfo.phone_numbers) && this.LInfo.image_code !=''){\r\n          if(!this.DYdisabled){ //这里要进行手机号格式验证\r\n            this.DYdisabled=true\r\n            let tiem=60\r\n              url.yzm({\r\n                image_code:this.LInfo.image_code,\r\n                uuid:this.uuid\r\n              },this.LInfo.phone_numbers).then(res=>{\r\n                console.log(res,'------成功发送验证码')\r\n                if(res.data.code==200){\r\n                  this.$message.success('发送成功');\r\n                  this.getCode=res.data.getCode\r\n                }else{\r\n                \r\n                  this.$message.error(res.data.errmsg);\r\n                }\r\n              }).catch(err=>{\r\n                console.log(err,'-------失败发送验证码')\r\n              })\r\n              let trmer=setInterval(() => {\r\n              if(tiem<=0){\r\n                clearInterval(trmer)\r\n                this.wait='发送验证码'\r\n                this.DYdisabled=false\r\n              }else{\r\n                this.wait=--tiem\r\n              }\r\n            }, 1000);\r\n          }\r\n        }else{\r\n          this.$message.error('手机格式不正确或图片验证码为空');\r\n        }\r\n      },\r\n      Fnimage_code_url(){//获取验证码图片\r\n        this.uuid=this.generateUUID();\r\n        // console.log(this.uuid)\r\n        this.image_code_url=this.code_image_url+this.uuid+'/';\r\n      },\r\n      // 生成uuid\r\n      generateUUID() {\r\n          let d = new Date().getTime();\r\n          if(window.performance && typeof window.performance.now === \"function\"){\r\n              d += performance.now(); //use high-precision timer if available\r\n          }\r\n          let uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\r\n              let r = (d + Math.random()*16)%16 | 0;\r\n              d = Math.floor(d/16);\r\n              return (c=='x' ? r : (r&0x3|0x8)).toString(16);\r\n          });\r\n          return uuid;\r\n      }\r\n  },\r\n  computed:{\r\n    ...mapState(['code_image_url'])\r\n  },\r\n  mounted(){\r\n    //获取验证码图片\r\n    this.Fnimage_code_url()\r\n  }\r\n}\r\n</script>\r\n<style lang='stylus' scoped>\r\n.L_inp {\r\n  margin-bottom: 20px;\r\n}\r\n.L_btn {\r\n  width: 100%;\r\n} \r\n.Verification\r\n    border 0\r\n    width 116px\r\n    border-left 1px solid #cccccc\r\n    line-height 18px\r\n    margin-top 2px\r\n    height 34px\r\n.icLogo\r\n    padding 12px 0px 0px 4px\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/login/phoneReg.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-input',{staticClass:\"L_inp\",attrs:{\"placeholder\":\"请输入用户名\"},model:{value:(_vm.LInfo.username),callback:function ($$v) {_vm.$set(_vm.LInfo, \"username\", $$v)},expression:\"LInfo.username\"}},[_c('svg',{staticClass:\"icon icLogo\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"},[_c('use',{attrs:{\"xlink:href\":\"#icon-ziyuanxhdpi\"}})])]),_vm._v(\" \"),_c('el-input',{staticClass:\"L_inp\",attrs:{\"type\":\"password\",\"placeholder\":\"请输入密码\"},model:{value:(_vm.LInfo.password),callback:function ($$v) {_vm.$set(_vm.LInfo, \"password\", $$v)},expression:\"LInfo.password\"}},[_c('svg',{staticClass:\"icon icLogo\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"},[_c('use',{attrs:{\"xlink:href\":\"#icon-mima1\"}})])]),_vm._v(\" \"),_c('el-input',{staticClass:\"L_inp\",attrs:{\"type\":\"password\",\"placeholder\":\"请输入密码确认\"},model:{value:(_vm.LInfo.pwd2),callback:function ($$v) {_vm.$set(_vm.LInfo, \"pwd2\", $$v)},expression:\"LInfo.pwd2\"}},[_c('svg',{staticClass:\"icon icLogo\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"},[_c('use',{attrs:{\"xlink:href\":\"#icon-mima1\"}})])]),_vm._v(\" \"),_c('el-input',{staticClass:\"L_inp\",attrs:{\"placeholder\":\"请输入图片验证码\"},model:{value:(_vm.LInfo.image_code),callback:function ($$v) {_vm.$set(_vm.LInfo, \"image_code\", $$v)},expression:\"LInfo.image_code\"}},[_c('svg',{staticClass:\"icon icLogo\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"},[_c('use',{attrs:{\"xlink:href\":\"#icon-yanzhengma\"}})]),_vm._v(\" \"),_c('img',{staticClass:\"Verification\",attrs:{\"slot\":\"suffix\",\"src\":_vm.image_code_url,\"alt\":\"\"},on:{\"click\":function($event){return _vm.Fnimage_code_url()}},slot:\"suffix\"})]),_vm._v(\" \"),_c('el-input',{staticClass:\"L_inp\",attrs:{\"placeholder\":\"请输入手机号\"},model:{value:(_vm.LInfo.phone_numbers),callback:function ($$v) {_vm.$set(_vm.LInfo, \"phone_numbers\", $$v)},expression:\"LInfo.phone_numbers\"}},[_c('svg',{staticClass:\"icon icLogo\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"},[_c('use',{attrs:{\"xlink:href\":\"#icon-shoujihaoma\"}})])]),_vm._v(\" \"),_c('el-input',{staticClass:\"L_inp\",attrs:{\"placeholder\":\"请输入验证码\"},model:{value:(_vm.LInfo.code),callback:function ($$v) {_vm.$set(_vm.LInfo, \"code\", $$v)},expression:\"LInfo.code\"}},[_c('svg',{staticClass:\"icon icLogo\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"},[_c('use',{attrs:{\"xlink:href\":\"#icon-yanzhengma\"}})]),_vm._v(\" \"),_c('el-button',{staticClass:\"Verification\",attrs:{\"slot\":\"suffix\",\"disabled\":_vm.DYdisabled,\"size\":\"medium\"},on:{\"click\":function($event){return _vm.FnTimeY()}},slot:\"suffix\"},[_vm._v(_vm._s(_vm.wait))])],1),_vm._v(\" \"),_c('el-button',{staticClass:\"L_btn\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.FnLBtn()}}},[_vm._v(\"注册\")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-63c90177\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/login/phoneReg.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-63c90177\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./phoneReg.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./phoneReg.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./phoneReg.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-63c90177\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./phoneReg.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-63c90177\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/login/phoneReg.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"login\">\r\n    <div class=\"loginBox\">\r\n      <div class=\"L_tit\">达摩智联</div>\r\n      <!-- 登陆方式模块方start-->\r\n      <div v-show=\"Dpattern_active\" class=\"mode\">\r\n         <div v-for=\"(item,index) in Dmode\" :key=\"index\" :class=\"{mode_active:item.tem==Dmode_ind}\" @click=\"FnMode(item.tem)\">{{item.mode}}</div>\r\n      </div>\r\n      <div :is='Dmode_ind' :regsuccess='regsuccess'></div>\r\n      <!-- 登陆方式模块end -->\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n<script>\r\n//用户名密码\r\nimport userName from './userName'\r\n//手机注册页面\r\nimport phoneReg from './phoneReg'\r\nexport default {\r\n  data() {\r\n    return {\r\n      Dpattern_active:true,//登陆注册切换标识，true为登陆\r\n      Dmode:[//登陆方式\r\n        {\r\n          mode:'登陆',\r\n          tem:'userName'\r\n        },\r\n        {\r\n          mode:'注册',\r\n          tem:'phoneReg'\r\n        },\r\n      ],\r\n      Dmode_ind:'phoneReg',//登陆组件切换\r\n      \r\n    };\r\n  },\r\n  methods: {\r\n    FnPatternL(){//登陆切换标识赋值为true\r\n      this.Dpattern_active=true;\r\n    },\r\n    FnPatternR(){//注册切换标识赋值为false\r\n      this.Dpattern_active=false;\r\n      this.Dmode_ind='phone'\r\n    },\r\n    FnMode(i){//登陆方式\r\n      this.Dmode_ind=i\r\n    },\r\n    FnRMode(i){//注册方式\r\n      this.DRmode_ind=i\r\n    },\r\n    regsuccess(){\r\n      this.Dmode_ind=\"userName\"\r\n    }\r\n  },\r\n  components:{\r\n    userName,\r\n    phoneReg,\r\n  }\r\n};\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\nhtml{\r\n  background-color: #333;\r\n}\r\n.login {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: #333;\r\n}\r\n.pattern\r\n  text-align center\r\n  line-height 40px\r\n  border 1px solid #cccccc\r\n  border-radius: 8px;\r\n  margin-bottom 6px\r\n  font-size 16px\r\n.pattern_active\r\n  background #409EFF\r\n  color #ffffff\r\n\r\n.mode\r\n  display flex\r\n  div\r\n    flex 1\r\n    text-align center\r\n    font-size 16px\r\n    line-height 24px\r\n    margin-bottom 15px\r\n  .mode_active\r\n    border-bottom 1px solid #409EFF\r\n    color #409EFF\r\n    font-weight bold\r\n\r\n.loginBox \r\n  width: 320px;\r\n  padding: 14px 14px 25px;\r\n  margin: 30px auto;\r\n  background: #fff;\r\n  border-radius: 8px;\r\n  .L_tit\r\n    text-align: center;\r\n    line-height: 52px;\r\n    font-weight: bold;\r\n    font-size: 22px;\r\n  .L_DSF\r\n    width 100%\r\n    height 70px\r\n    border-top 1px solid #ccc\r\n    position relative\r\n    margin 32px auto 0px\r\n    box-sizing border-box\r\n    padding 30px 0px 0px 90px\r\n    .L_DSF_tit\r\n      position absolute\r\n      top -8px\r\n      padding 0px 15px\r\n      color #b5b5b5\r\n      background #fff\r\n  .icLogo\r\n    padding 12px 0px 0px 4px\r\n.icLogin{\r\n  width: 50px;\r\n  height: 40px;\r\n  margin-right 20px\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/login/newLogin.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('div',{staticClass:\"loginBox\"},[_c('div',{staticClass:\"L_tit\"},[_vm._v(\"达摩智联\")]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.Dpattern_active),expression:\"Dpattern_active\"}],staticClass:\"mode\"},_vm._l((_vm.Dmode),function(item,index){return _c('div',{key:index,class:{mode_active:item.tem==_vm.Dmode_ind},on:{\"click\":function($event){return _vm.FnMode(item.tem)}}},[_vm._v(_vm._s(item.mode))])}),0),_vm._v(\" \"),_c(_vm.Dmode_ind,{tag:\"div\",attrs:{\"regsuccess\":_vm.regsuccess}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-03225142\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/login/newLogin.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-03225142\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./newLogin.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./newLogin.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./newLogin.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-03225142\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./newLogin.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-03225142\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/login/newLogin.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}