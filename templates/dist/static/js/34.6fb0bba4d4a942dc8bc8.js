webpackJsonp([34],{"3PYN":function(t,e){},"gX+M":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("Dd8w"),s=i.n(n),o=i("sYY+"),a=i.n(o),r=i("w7XY"),d=i("NYxO"),u={data:function(){return{editorContent:"",editor:null,input:"",region:""}},mounted:function(){var t=this;this.editor=new a.a(this.$refs.editor),this.editor.customConfig.onchange=function(e,i){t.editorContent=e},this.editor.customConfig.uploadImgServer=this.uploadimage,this.editor.customConfig.uploadFileName="image",this.editor.customConfig.uploadImgHooks={customInsert:function(t,e,i){t(e.ip+e.data[0])}},this.editor.customConfig.showLinkImg=!1,this.editor.create(),-1!=this.$route.query.k_id&&this.Fneditknowledge()},methods:{getContent:function(){var t=this;-1==this.$route.query.k_id?""!=this.input&&""!=this.editorContent&&""!=this.region?r.a.addknowledge({user_id:this.buserInfo.user_id,k_title:this.input,k_type:"行业资讯",k_content:this.editorContent,k_tag:this.region}).then(function(e){e.data.code&&(t.$message.success(e.data.message[0]),t.$router.push("/bkIndex/bknews"))}):this.$message.error("标题、主题以及问题内容不能为空"):""!=this.input&&""!=this.editorContent&&""!=this.region?r.a.Peditknowledge({user_id:this.buserInfo.user_id,k_id:this.$route.query.k_id,k_title:this.input,k_content:this.editorContent,k_tag:this.region}).then(function(e){e.data.code&&(t.$message.success(e.data.message[0]),t.$router.push("/bkIndex/bknews"))}):this.$message.error("标题、主题以及问题内容不能为空")},Fneditknowledge:function(){var t=this;r.a.editknowledge({k_id:this.$route.query.k_id}).then(function(e){if(e.data.code[0]="200"){var i=e.data.data[0].fields;i.k_id=e.data.data[0].pk,t.det=i,t.editor.txt.html(i.k_content),t.input=i.k_title,t.region=i.k_tag}})}},computed:s()({},Object(d.c)(["buserInfo","uploadimage","tagList"]))},c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"title"},[t._v("\n    "+t._s(-1!=t.$route.query.k_id?"修改行业资讯":"增加行业资讯")+"\n  ")]),t._v(" "),i("div",{staticClass:"WOBox"},[i("div",{staticClass:"info"},[i("el-select",{staticClass:"Zinde",attrs:{placeholder:"请选择主题"},model:{value:t.region,callback:function(e){t.region=e},expression:"region"}},t._l(t.tagList,function(t,e){return i("el-option",{key:e,attrs:{label:t,value:t}})}),1)],1),t._v(" "),i("div",{staticClass:"textBox"},[t._v("\n      标题："),i("el-input",{staticClass:"inp",attrs:{placeholder:"请输入内容",maxlength:"32"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}),t._v(" "),i("div",{ref:"editor",staticStyle:{"text-align":"left",position:"relative","z-index":"9"}})],1),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.getContent}},[t._v(t._s(-1!=t.$route.query.k_id?"修改":"保存"))])],1)])},staticRenderFns:[]};var l=i("VU/8")(u,c,!1,function(t){i("3PYN")},"data-v-6779b1ec",null);e.default=l.exports}});
//# sourceMappingURL=34.6fb0bba4d4a942dc8bc8.js.map