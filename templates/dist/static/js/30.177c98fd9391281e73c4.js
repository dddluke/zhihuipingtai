webpackJsonp([30],{"+jD/":function(t,e){},"0M6q":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("Dd8w"),i=n.n(a),o=n("w7XY"),s=n("NYxO"),r={data:function(){return{tableData:[],total:0,currentPage:1,PageSize:7}},methods:{handleClick:function(t,e){this.$router.push({path:"/bkIndex/bkSolveDet",query:{s_k_id:t,k_status:e}})},gotoeditknowledge:function(t){this.$router.push({path:"/bkIndex/selKLDet",query:{s_k_id:t}})},FnAdd:function(t){this.$router.push("/bkIndex/bkKLDet")},Fnknowledgelist:function(){var t=this;o.a.knowledgelist({page:this.currentPage,per_page:this.PageSize}).then(function(e){if(e.data.code[0]="200"){var n=[];e.data.data.forEach(function(t){t.fields.k_id=t.pk,n.push(t.fields)}),t.tableData=n,t.total=e.data.datacount}})},Fngitodetails:function(t){this.$router.push({path:"/bkIndex/details",query:{k_id:t,k_type:"知识库"}})},Fndeleteknowledge:function(t){var e=this;o.a.deleteknowledge({user_id:this.buserInfo.user_id,k_id:t}).then(function(t){(t.data.code[0]="200")&&(e.$message.success(t.data.message[0]),e.Fnknowledgelist())})},handleCurrentChange:function(t){this.currentPage=t,this.Fnknowledgelist()}},mounted:function(){this.Fnknowledgelist()},computed:i()({},Object(s.c)(["buserInfo"]))},l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"title"},[t._v("\n    更新知识库\n  ")]),t._v(" "),n("div",{staticClass:"WOBox"},[n("div",{staticClass:"operation"},[n("el-button",{attrs:{type:"warning"},on:{click:function(e){return t.FnAdd()}}},[t._v("新增")])],1),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[n("el-table-column",{attrs:{prop:"date",label:"历史发布"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",[t._v(t._s(e.row.k_title))]),t._v(" "),n("div",[t._v(t._s(e.row.k_date))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.handleClick(e.row.k_id,e.row.k_status)}}},[t._v(t._s(e.row.k_status?"修改解决方案":"上传解决方案"))]),t._v(" "),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.Fngitodetails(e.row.k_id)}}},[t._v("查看")]),t._v(" "),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.gotoeditknowledge(e.row.k_id)}}},[t._v("修改问题描述")]),t._v(" "),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.Fndeleteknowledge(e.row.k_id)}}},[t._v("删除")])]}}])})],1),t._v(" "),n("el-pagination",{attrs:{background:"",layout:"prev, pager, next","current-page":t.currentPage,"page-size":t.PageSize,total:t.total},on:{"current-change":t.handleCurrentChange}})],1)])},staticRenderFns:[]};var d=n("VU/8")(r,l,!1,function(t){n("+jD/")},"data-v-71cd2d44",null);e.default=d.exports}});
//# sourceMappingURL=30.177c98fd9391281e73c4.js.map