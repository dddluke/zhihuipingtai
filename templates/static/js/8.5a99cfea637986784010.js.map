{"version":3,"sources":["webpack:///./src/assets/img/ceImg.jpg","webpack:///src/components/backstage/companylist.vue","webpack:///./src/components/backstage/companylist.vue?18e1","webpack:///./src/components/backstage/companylist.vue"],"names":["module","exports","__webpack_require__","p","companylist","data","tableData","gridData","dialogTableVisible","methods","Fnget","_this","this","api","allcompanylist","then","result","newlist","forEach","element","fields","company_id","pk","push","catch","err","Fnagree","company","_this2","activecompany","user_id","buserInfo","res","filterTag","value","row","active","Fndeactivecompany","_this3","deactivecompany","code","$message","success","message","error","companyprofile","i","_this4","mounted","computed","extends_default","Object","vuex_esm","backstage_companylist","render","_vm","_h","$createElement","_c","_self","ref","staticStyle","width","attrs","border","prop","label","_v","filters","text","filter-method","filter-placement","scopedSlots","_u","key","fn","scope","type","disable-transitions","_s","on","click","$event","directives","name","rawName","expression","title","visible","update:visible","gutter","span","staticClass","src","alt","company_name","company_address","context","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/8.5a99cfea637986784010.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/img/ceImg.10c21e6.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/img/ceImg.jpg\n// module id = IIkd\n// module chunks = 8","<!-- 公司列表 -->\r\n<template>\r\n  <div>\r\n      \r\n      <!-- 表格待删选 -->\r\n    <el-table\r\n        ref=\"filterTable\"\r\n        :data=\"tableData\"\r\n        border\r\n        style=\"width: 100%\">\r\n        <el-table-column\r\n        prop=\"company_name\"\r\n        label=\"公司名称\">\r\n        </el-table-column>\r\n        <el-table-column\r\n        prop=\"active\"\r\n        label=\"标签\"\r\n        width=\"100\"\r\n        :filters=\"[{ text: '未激活', value: 0 }, { text: '已激活', value: 1 }]\"\r\n        :filter-method=\"filterTag\"\r\n        filter-placement=\"bottom-end\">\r\n        <template slot-scope=\"scope\">\r\n            <el-tag\r\n            :type=\"scope.row.active == 0 ? 'primary' : 'success'\"\r\n            disable-transitions>{{scope.row.active==0 ? '未激活':'已激活'}}</el-tag>\r\n        </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n        label=\"操作\"\r\n        width=\"240\">\r\n        <template slot-scope=\"scope\">\r\n              <el-button type=\"primary\" @click=\"companyprofile(scope.row.company_id)\">查看</el-button>\r\n              <el-button v-show=\"scope.row.active==0\" @click=\"Fnagree(scope.row.company_id)\" type=\"success\">激活</el-button>\r\n              <el-button v-show=\"scope.row.active==1\"  @click=\"Fndeactivecompany(scope.row.company_id)\" type=\"danger\">停用</el-button>\r\n        </template>\r\n        </el-table-column>\r\n    </el-table>\r\n    <!-- 查看公司详情 -->\r\n    <el-dialog title=\"公司详情\" :visible.sync=\"dialogTableVisible\">\r\n        <el-row :gutter=\"20\">\r\n            <el-col :span=\"8\">\r\n                公司头像:\r\n            </el-col>\r\n            <el-col :span=\"16\">\r\n                <img class=\"imgxId\" :src=\"require('../../assets/img/ceImg.jpg')\" alt=\"\">\r\n            </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"20\">\r\n            <el-col :span=\"8\">\r\n                公司名称:\r\n            </el-col>\r\n            <el-col :span=\"16\">\r\n                {{gridData.company_name}}\r\n            </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"20\">\r\n            <el-col :span=\"8\">\r\n                公司地址:\r\n            </el-col>\r\n            <el-col :span=\"16\">\r\n                {{gridData.company_address}}\r\n            </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"20\">\r\n            <el-col :span=\"8\">\r\n                公司简介:\r\n            </el-col>\r\n            <el-col :span=\"16\">\r\n                {{gridData.context ? gridData.context:'无'}}\r\n            </el-col>\r\n        </el-row>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport url from '../../common/api'\r\nimport { mapState } from \"vuex\";\r\nexport default {\r\n    data(){\r\n        return{\r\n            tableData: [],//所有公司\r\n            gridData: [],//公司详情\r\n            dialogTableVisible: false,//公司详情弹出标识\r\n        };\r\n    },\r\n    methods:{\r\n        Fnget(){//获取接口-所有公司\r\n            url.allcompanylist()\r\n            .then((result) => {\r\n                let xx=result.data.data\r\n                let newlist=[]\r\n                xx.forEach(element => {\r\n                element.fields.company_id=element.pk\r\n                newlist.push(element.fields)\r\n                });\r\n                this.tableData=newlist\r\n            }).catch((err) => {\r\n            });\r\n        },\r\n        Fnagree(company){//同意审批\r\n            url.activecompany({\r\n                user_id:this.buserInfo.user_id,\r\n                company_id:company\r\n            }).then((res) => {\r\n                console.log(res,'----------')\r\n                this.Fnget()//公司列表\r\n            }).catch((err) => {\r\n                \r\n            });\r\n        },\r\n        filterTag(value, row) {//筛选是否激活公司\r\n            return row.active === value;\r\n        },\r\n        Fndeactivecompany(company){//停用公司\r\n            url.deactivecompany({\r\n                \"user_id\": this.buserInfo.user_id,\r\n                \"company_id\":company\r\n            }).then(res=>{\r\n                console.log(res,'----------停用公司')\r\n                if(res.data.code[0]=\"200\"){\r\n                    this.$message.success(res.data.message[0]);\r\n                }else{\r\n                    this.$message.error(res.data.message[0]);\r\n                }\r\n                this.Fnget()//公司列表\r\n            })\r\n        },\r\n        companyprofile(i){\r\n            // 打开窗口\r\n            this.dialogTableVisible=true\r\n            url.companyprofile({\r\n                \"company_id\":i\r\n            }).then(res=>{\r\n                this.gridData=res.data.data[0].fields\r\n                console.log(res,'--',this.gridData,'-------查看公司详情')\r\n            })\r\n        }\r\n    },\r\n    mounted(){\r\n        this.Fnget()//公司列表\r\n    },\r\n    computed:{\r\n        ...mapState(['buserInfo'])\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n.imgxId\r\n    width 80px\r\n    height 80px\r\n>>>.el-row\r\n    margin 30px 0\r\n    font-size 16px\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/backstage/companylist.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-table',{ref:\"filterTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"company_name\",\"label\":\"公司名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"active\",\"label\":\"标签\",\"width\":\"100\",\"filters\":[{ text: '未激活', value: 0 }, { text: '已激活', value: 1 }],\"filter-method\":_vm.filterTag,\"filter-placement\":\"bottom-end\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":scope.row.active == 0 ? 'primary' : 'success',\"disable-transitions\":\"\"}},[_vm._v(_vm._s(scope.row.active==0 ? '未激活':'已激活'))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"240\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.companyprofile(scope.row.company_id)}}},[_vm._v(\"查看\")]),_vm._v(\" \"),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(scope.row.active==0),expression:\"scope.row.active==0\"}],attrs:{\"type\":\"success\"},on:{\"click\":function($event){return _vm.Fnagree(scope.row.company_id)}}},[_vm._v(\"激活\")]),_vm._v(\" \"),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(scope.row.active==1),expression:\"scope.row.active==1\"}],attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.Fndeactivecompany(scope.row.company_id)}}},[_vm._v(\"停用\")])]}}])})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"公司详情\",\"visible\":_vm.dialogTableVisible},on:{\"update:visible\":function($event){_vm.dialogTableVisible=$event}}},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_vm._v(\"\\n              公司头像:\\n          \")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":16}},[_c('img',{staticClass:\"imgxId\",attrs:{\"src\":require('../../assets/img/ceImg.jpg'),\"alt\":\"\"}})])],1),_vm._v(\" \"),_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_vm._v(\"\\n              公司名称:\\n          \")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":16}},[_vm._v(\"\\n              \"+_vm._s(_vm.gridData.company_name)+\"\\n          \")])],1),_vm._v(\" \"),_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_vm._v(\"\\n              公司地址:\\n          \")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":16}},[_vm._v(\"\\n              \"+_vm._s(_vm.gridData.company_address)+\"\\n          \")])],1),_vm._v(\" \"),_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_vm._v(\"\\n              公司简介:\\n          \")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":16}},[_vm._v(\"\\n              \"+_vm._s(_vm.gridData.context ? _vm.gridData.context:'无')+\"\\n          \")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-23e70f23\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/backstage/companylist.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-23e70f23\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./companylist.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./companylist.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./companylist.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-23e70f23\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./companylist.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-23e70f23\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/backstage/companylist.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}