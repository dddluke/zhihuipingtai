webpackJsonp([14],{"1XQ5":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("Dd8w"),n=i.n(s),a=i("sYY+"),o=i.n(a),d=i("w7XY"),r=i("NYxO"),u={data:function(){return{activeName:"first",editorContent:"",editor:null,input:"",det:{},getSolve:{},display:!1}},mounted:function(){var t=this;this.editor=new o.a(this.$refs.editor),this.editor.customConfig.onchange=function(e,i){t.editorContent=e},this.editor.customConfig.uploadImgServer=this.uploadimage,this.editor.customConfig.uploadFileName="image",this.editor.customConfig.uploadImgHooks={customInsert:function(t,e,i){t(e.ip+e.data[0])}},this.editor.customConfig.showLinkImg=!1,this.editor.create(),this.$route.query.k_status&&this.Fnviewsolution()},methods:{handleClick:function(t,e){},getContent:function(){var t=this;this.$route.query.k_status?""!=this.input&&""!=this.editorContent?d.a.Pviewsolution({user_id:this.buserInfo.user_id,s_k_id:this.getSolve.s_k_id,s_id:this.getSolve.s_id,s_title:this.input,s_type:"知识库",s_content:this.editorContent}).then(function(e){e.data.code&&(t.$message(e.data.message[0]),t.$router.push("/bkIndex/bkknowledge"))}):this.$message.error("标题和问题内容不能为空"):""!=this.input&&""!=this.editorContent?d.a.addsolution({user_id:this.buserInfo.user_id,s_k_id:this.$route.query.s_k_id,s_title:this.input,s_type:"知识库",s_content:this.editorContent}).then(function(e){e.data.code&&(t.$message(e.data.message[0]),t.$router.push("/bkIndex/bkknowledge"))}):this.$message.error("标题和问题内容不能为空")},Fneditknowledge:function(){var t=this;this.display=!this.display,this.display&&d.a.editknowledge({k_id:this.$route.query.s_k_id}).then(function(e){if(e.data.code[0]="200"){var i=e.data.data[0].fields;i.k_id=e.data.data[0].pk,t.det=i}})},Fnviewsolution:function(){var t=this;d.a.viewsolution({s_k_id:this.$route.query.s_k_id}).then(function(e){if(e.data.code[0]="200"){var i=e.data.data[0].fields;i.s_id=e.data.data[0].pk,t.getSolve=i,t.editor.txt.html(i.s_content),t.input=i.s_title}})}},computed:n()({},Object(r.c)(["static","uploadimage","buserInfo"]))},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"title"},[t._v("\n    解决方案\n  ")]),t._v(" "),i("div",{staticClass:"WOBox"},[i("div",{staticClass:"SDtit"},[t._v("\n        问题内容\n      ")]),t._v(" "),i("el-card",{staticClass:"info",attrs:{shadow:"always"}},[i("el-button",{attrs:{type:"primary"},on:{click:t.Fneditknowledge}},[t._v(t._s(t.display?"隐藏问题":"显示问题"))]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.display,expression:"display"}]},[i("h1",{staticClass:"detTitle"},[t._v(t._s(t.det.k_title))]),t._v(" "),i("div",{staticClass:"infod"},[t._v("\n              写作人"),i("i",[t._v(t._s(t.det.k_user_id))]),t._v(t._s(t.det.k_date)+"\n          ")]),t._v(" "),i("div",{staticClass:"DetTontent",domProps:{innerHTML:t._s(t.det.k_content)}})])],1),t._v(" "),i("div",{staticClass:"SDtit"},[t._v("\n        解决方案：\n      ")]),t._v(" "),i("div",{staticClass:"textBox"},[t._v("\n      标题："),i("el-input",{staticClass:"inp",attrs:{placeholder:"请输入内容"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}),t._v(" "),i("div",{ref:"editor",staticStyle:{"text-align":"left"}})],1),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.getContent}},[t._v(t._s(this.$route.query.k_status?"修改":"保存"))])],1)])},staticRenderFns:[]};var _=i("VU/8")(u,l,!1,function(t){i("uimA")},"data-v-dc2a0526",null);e.default=_.exports},uimA:function(t,e){}});
//# sourceMappingURL=14.7c61de517591b969f207.js.map