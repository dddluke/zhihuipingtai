webpackJsonp([11],{"25+X":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("Dd8w"),s=i.n(a),n=i("sYY+"),o=i.n(n),r=i("w7XY"),d=i("NYxO"),u={data:function(){return{editorContent:"",editor:null,input:"",imageUrl:"",param:new FormData}},mounted:function(){var t=this;this.editor=new o.a(this.$refs.editor),this.editor.customConfig.onchange=function(e,i){t.editorContent=e},this.editor.customConfig.uploadImgServer=this.uploadimage,this.editor.customConfig.uploadFileName="image",this.editor.customConfig.uploadImgHooks={customInsert:function(t,e,i){t(e.ip+e.data[0])}},this.editor.customConfig.showLinkImg=!1,this.editor.create(),-1!=this.$route.query.k_id&&this.Fneditknowledge()},methods:{getContent:function(){var t=this;this.param.append("e_title",this.input),this.param.append("user_id",this.buserInfo.user_id),this.param.append("e_content",this.editorContent),-1==this.$route.query.k_id?""!=this.input&&""!=this.editorContent&&""!=this.imageUrl?r.a.addenterprise(this.param).then(function(e){"200"==e.data.code[0]&&(t.$message.success(e.data.message[0]),t.$router.push("/bkIndex/dynamicB"))}):this.$message.error("封面图、主题以及问题内容不能为空"):(this.param.append("k_id",this.$route.query.k_id),""!=this.input&&""!=this.editorContent&&""!=this.imageUrl?r.a.Pviewenterprise(this.param).then(function(e){"200"==e.data.code[0]&&(t.$message.success(e.data.message[0]),t.$router.push("/bkIndex/dynamicB"))}):this.$message.error("标题、主题以及问题内容不能为空"))},Fneditknowledge:function(){var t=this;r.a.viewenterprise({k_id:this.$route.query.k_id}).then(function(e){if(e.data.code[0]="200"){var i=e.data.data[0].fields;t.editor.txt.html(i.e_content),t.input=i.e_title,t.imageUrl=t.static+i.e_image}})},beforeupload:function(t){var e=window.URL||window.webkitURL;return this.imageUrl=e.createObjectURL(t),this.param.append("e_image",t),!1}},computed:s()({},Object(d.c)(["buserInfo","uploadimage","tagList","static"]))},c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"title"},[t._v("\n    "+t._s(-1!=t.$route.query.k_id?"修改企业动态":"增加企业动态")+"\n  ")]),t._v(" "),i("div",{staticClass:"WOBox"},[i("div",{staticClass:"info"},[i("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","show-file-list":!1,"before-upload":t.beforeupload}},[t.imageUrl?i("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):i("i",{staticClass:"el-icon-plus avatar-uploader-icon"},[t._v("\n              封面图\n          ")])])],1),t._v(" "),i("div",{staticClass:"textBox"},[t._v("\n      标题："),i("el-input",{staticClass:"inp",attrs:{placeholder:"请输入内容",maxlength:"32"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}),t._v(" "),i("div",{ref:"editor",staticStyle:{"text-align":"left",position:"relative","z-index":"9"}})],1),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.getContent}},[t._v(t._s(-1!=t.$route.query.k_id?"修改":"保存"))])],1)])},staticRenderFns:[]};var l=i("VU/8")(u,c,!1,function(t){i("q5vo")},"data-v-f28ccc22",null);e.default=l.exports},q5vo:function(t,e){}});
//# sourceMappingURL=11.224fb3aad6b0f5baf14b.js.map