webpackJsonp([46],{"8dsk":function(e,r){},DXRQ:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("Dd8w"),l=t.n(i),a=t("NYxO"),n=t("w7XY"),o={data:function(){return{formLabelAlign:{cd_nodeid:"",cd_name:"",cd_produce_time:"",cd_manufacturer:""},rules:{cd_nodeid:[{required:!0,message:"请输入设备id",trigger:"blur"},{type:"number",message:"请输入数字",trigger:"blur"}],cd_name:[{required:!0,message:"请输入设备名称",trigger:"blur"}],cd_produce_time:[{required:!0,message:"请输入设备出场日期",trigger:"blur"}],cd_manufacturer:[{required:!0,message:"请输入设备生产商",trigger:"blur"}]}}},methods:{submitForm:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return!1;"修改"==r.$route.query.type||(r.formLabelAlign.company_id=r.$route.query.company_id,r.formLabelAlign.project_id=r.$route.query.project_id,r.formLabelAlign.user_id=r.buserInfo.user_id,n.a.applycollectdevice(r.formLabelAlign).then(function(e){e.data.code?r.$message({message:e.data.message[0],type:"success"}):r.$message({message:"添加失败，请检查信息重新修改",type:"error"})}))})},Fncollectdevicelist:function(){var e=this;n.a.collectdevicelist({project_id:this.$route.query.project_id,user_id:this.buserInfo.user_id}).then(function(r){var t=r.data.data[0].fields;t.collectdevice_id=r.data.data[0].pk,e.formLabelAlign=t})}},mounted:function(){"修改"==this.$route.query.type&&this.Fncollectdevicelist()},computed:l()({},Object(a.c)(["buserInfo"]))},c={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("div",{staticClass:"fromBox"},[t("el-form",{ref:"formLabelAlign",attrs:{"label-position":"right",rules:e.rules,"label-width":"100px",model:e.formLabelAlign}},[t("el-form-item",{attrs:{label:"采集设备id",prop:"cd_nodeid"}},[t("el-input",{model:{value:e.formLabelAlign.cd_nodeid,callback:function(r){e.$set(e.formLabelAlign,"cd_nodeid",e._n(r))},expression:"formLabelAlign.cd_nodeid"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"设备名称",prop:"cd_name"}},[t("el-input",{model:{value:e.formLabelAlign.cd_name,callback:function(r){e.$set(e.formLabelAlign,"cd_name",r)},expression:"formLabelAlign.cd_name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"出厂日期",prop:"cd_produce_time"}},[t("el-input",{model:{value:e.formLabelAlign.cd_produce_time,callback:function(r){e.$set(e.formLabelAlign,"cd_produce_time",r)},expression:"formLabelAlign.cd_produce_time"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"设备生产商",prop:"cd_manufacturer"}},[t("el-input",{model:{value:e.formLabelAlign.cd_manufacturer,callback:function(r){e.$set(e.formLabelAlign,"cd_manufacturer",r)},expression:"formLabelAlign.cd_manufacturer"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("formLabelAlign")}}},[e._v(e._s(this.$route.query.type))])],1)],1)],1)])},staticRenderFns:[]};var d=t("VU/8")(o,c,!1,function(e){t("8dsk")},null,null);r.default=d.exports}});
//# sourceMappingURL=46.787a2644db8f60beba6a.js.map