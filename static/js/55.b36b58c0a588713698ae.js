webpackJsonp([55],{Fv6x:function(e,a){},pAy9:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("Dd8w"),o=t.n(n),r=t("w7XY"),c=t("NYxO"),s={data:function(){return{form:{company_name:"",company_address:"",context:""},rules:{company_name:[{required:!0,message:"请输入公司名称",trigger:"blur"}],company_address:[{required:!0,message:"请输入公司地址",trigger:"blur"}],context:[{required:!0,message:"请输入公司具体信息",trigger:"blur"}]},param:new FormData,src:""}},methods:{beforeupload:function(e){var a=window.URL||window.webkitURL;return this.src=a.createObjectURL(e),this.param.append("company_icon",e),!1},onSubmit:function(){var e=this;this.$refs.form.validate(function(a){if(!a)return!1;var t=e.form;e.param.append("company_name",t.company_name),e.param.append("user_id",e.userInfo.user_id),e.param.append("company_id",t.company_id),e.param.append("company_address",t.company_address),e.param.append("context",t.context),r.a.Peditcompany(e.param).then(function(a){e.$message(a.data.message[0])}).catch(function(e){})})},ce:function(){r.a.deactivecompany({user_id:this.userInfo.user_id,company_id:this.userInfo.u_company_id}).then(function(e){})},Fneditcompany:function(){var e=this;r.a.editcompany({company_id:this.userInfo.u_company_id}).then(function(a){if("200"==a.data.code[0]){var t=a.data.data[0].fields;t.company_id=a.data.data[0].pk,e.src=e.static+t.company_icon,e.form=t}else e.$message(a.data.message[0])})}},mounted:function(){this.Fneditcompany()},computed:o()({},Object(c.c)(["userInfo","static"]))},i={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("label",{staticClass:"el-form-item__label",staticStyle:{width:"120px"}},[e._v("\n    公司头像\n  ")]),e._v(" "),t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","show-file-list":!1,"before-upload":e.beforeupload}},[e.src?t("img",{staticClass:"avatar",attrs:{src:e.src}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e._v(" "),t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[t("el-form-item",{attrs:{label:"公司名称",prop:"company_name"}},[t("el-input",{model:{value:e.form.company_name,callback:function(a){e.$set(e.form,"company_name",a)},expression:"form.company_name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"公司地址",prop:"company_address"}},[t("el-input",{model:{value:e.form.company_address,callback:function(a){e.$set(e.form,"company_address",a)},expression:"form.company_address"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"公司具体信息",prop:"context"}},[t("el-input",{attrs:{type:"textarea",rows:6,placeholder:"请输入内容"},model:{value:e.form.context,callback:function(a){e.$set(e.form,"context",a)},expression:"form.context"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存修改")])],1)],1),e._v(" "),t("el-popconfirm",{attrs:{confirmButtonText:"取消",cancelButtonText:"确定",icon:"el-icon-info",iconColor:"red",title:"确定要关闭公司吗"},on:{onCancel:function(a){return e.ce()}}},[t("el-button",{attrs:{slot:"reference"},slot:"reference"},[e._v("停用公司")])],1)],1)},staticRenderFns:[]};var m=t("VU/8")(s,i,!1,function(e){t("Fv6x")},"data-v-2f1c78c3",null);a.default=m.exports}});
//# sourceMappingURL=55.b36b58c0a588713698ae.js.map