{"version":3,"sources":["webpack:///src/components/login/joincompany.vue","webpack:///./src/components/login/joincompany.vue?669b","webpack:///./src/components/login/joincompany.vue"],"names":["joincompany","data","Dcompanylist","tableData","gridData","gridData_imgurl","dialogTableVisible","formInline","company_name","methods","Fngetcompanylist","_this","this","api","companylist","then","result","code","newlist","forEach","element","fields","company_id","pk","push","gotocompany","item","_this2","user_id","userInfo","res","$message","message","companyprofile","i","_this3","static","company_icon","onSubmit","_this4","selectcompany","error","mounted","computed","extends_default","Object","vuex_esm","login_joincompany","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","inline","model","label","placeholder","value","callback","$$v","$set","expression","type","on","click","staticStyle","width","border","prop","scopedSlots","_u","key","fn","scope","$event","row","nativeOn","title","visible","update:visible","gutter","span","src","alt","_s","company_address","context","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/28.894b3b18df6550b62267.js","sourcesContent":["<!-- 加入公司joincompany -->\r\n<template>\r\n  <div>\r\n    <!-- <button @click=\"Fngetcompanylist()\">搜索所以已激活的公司</button>\r\n    2020-09-27\r\n    <div v-for=\"(item,index) in Dcompanylist\" :key=\"index\" @click=\"gotocompany(item)\">{{item}}</div>\r\n    <hr> -->\r\n    <div class=\"title\">\r\n        加入公司\r\n    </div>\r\n    <el-form :inline=\"true\" :model=\"formInline\" class=\"demo-form-inline\">\r\n      <el-form-item label=\"搜索要加入的公司名称\">\r\n        <el-input v-model=\"formInline.company_name\" placeholder=\"公司名称\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"onSubmit\">搜索</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n    <!-- {{userInfo.user_id}} -->\r\n\r\n    <el-table\r\n      :data=\"tableData\"\r\n      border\r\n      style=\"width: 100%\">\r\n      <el-table-column\r\n        prop=\"company_name\"\r\n        label=\"公司名称\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        label=\"操作\"\r\n        width=\"280\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button type=\"warning\" @click=\"companyprofile(scope.row.company_id)\">查看</el-button>\r\n              <el-button type=\"primary\" @click.native=\"gotocompany(scope.row.company_id)\">加入公司</el-button>\r\n            </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!-- 查看公司详情 -->\r\n    <el-dialog title=\"公司详情\" :visible.sync=\"dialogTableVisible\">\r\n        <el-row :gutter=\"20\">\r\n            <el-col :span=\"8\">\r\n                公司头像:\r\n            </el-col>\r\n            <el-col :span=\"16\">\r\n                <img class=\"imgxId\" :src=\"gridData_imgurl\" alt=\"\">\r\n            </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"20\">\r\n            <el-col :span=\"8\">\r\n                公司名称:\r\n            </el-col>\r\n            <el-col :span=\"16\">\r\n                {{gridData.company_name}}\r\n            </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"20\">\r\n            <el-col :span=\"8\">\r\n                公司地址:\r\n            </el-col>\r\n            <el-col :span=\"16\">\r\n                {{gridData.company_address}}\r\n            </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"20\">\r\n            <el-col :span=\"8\">\r\n                公司简介:\r\n            </el-col>\r\n            <el-col :span=\"16\">\r\n                {{gridData.context ? gridData.context:'无'}}\r\n            </el-col>\r\n        </el-row>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport url from \"../../common/api\";\r\nimport { mapState } from 'vuex'\r\nexport default {\r\n  data(){\r\n    return{\r\n      Dcompanylist:[],\r\n      tableData: [],\r\n      gridData: [],//公司详情\r\n      gridData_imgurl: '',//公司详情--图片地址\r\n      dialogTableVisible: false,//公司详情弹出标识\r\n      formInline: {//搜索表单\r\n        company_name: ''\r\n      }\r\n    };\r\n  },\r\n  methods:{\r\n    Fngetcompanylist(){//搜索所以已激活的公司\r\n      url.companylist()\r\n      .then(result=>{\r\n        if(result.data.code[0]==200){\r\n          let xx=result.data.data\r\n          let newlist=[]\r\n          xx.forEach(element => {\r\n            element.fields.company_id=element.pk\r\n            newlist.push(element.fields)\r\n          });\r\n          this.tableData=newlist\r\n        }\r\n      })\r\n    },\r\n    gotocompany(item){\r\n      url.joincompany({\r\n        \"user_id\": this.userInfo.user_id,\r\n        \"company_id\": item\r\n      }).then(res=>{\r\n        if(res.data.code==200){\r\n          this.$message(res.data.message[0]);\r\n        }\r\n      })\r\n    },\r\n    companyprofile(i){//查看公司详情\r\n        // 打开窗口\r\n        this.dialogTableVisible=true\r\n        url.companyprofile({\r\n            \"company_id\":i\r\n        }).then(res=>{\r\n            this.gridData=res.data.data[0].fields\r\n            this.gridData_imgurl=this.static+this.gridData.company_icon\r\n            console.log(res,'--',this.gridData,'-------查看公司详情')\r\n        })\r\n    },\r\n    onSubmit() {//对加入的公司进行搜索\r\n      console.log(this.formInline,'表单的内容-----submit!');\r\n      url.selectcompany(this.formInline)\r\n      .then(result=>{\r\n        console.log(result,'------公司')\r\n        if(result.data.code[0]==200){\r\n          let xx=result.data.data\r\n          let newlist=[]\r\n          xx.forEach(element => {\r\n            element.fields.company_id=element.pk\r\n            newlist.push(element.fields)\r\n          });\r\n          this.tableData=newlist\r\n        }else{\r\n          this.$message.error(result.data.message[0]);\r\n        }\r\n      })\r\n      \r\n    }\r\n  },\r\n  mounted(){\r\n    // this.Fngetcompanylist()//所有激活信息\r\n  },\r\n  computed:{\r\n    ... mapState(['userInfo','static'])\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n.title\r\n    font-size 20px\r\n    color #333\r\n    margin-bottom 20px\r\n    margin-top 20px\r\n    padding-left 15px\r\n    border-left 3px solid #409EFF\r\n.imgxId\r\n    width 80px\r\n    height 80px\r\n>>>.el-row\r\n    margin 30px 0\r\n    font-size 16px\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/login/joincompany.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"title\"},[_vm._v(\"\\n      加入公司\\n  \")]),_vm._v(\" \"),_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.formInline}},[_c('el-form-item',{attrs:{\"label\":\"搜索要加入的公司名称\"}},[_c('el-input',{attrs:{\"placeholder\":\"公司名称\"},model:{value:(_vm.formInline.company_name),callback:function ($$v) {_vm.$set(_vm.formInline, \"company_name\", $$v)},expression:\"formInline.company_name\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"搜索\")])],1)],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"company_name\",\"label\":\"公司名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"280\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":function($event){return _vm.companyprofile(scope.row.company_id)}}},[_vm._v(\"查看\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.gotocompany(scope.row.company_id)}}},[_vm._v(\"加入公司\")])]}}])})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"公司详情\",\"visible\":_vm.dialogTableVisible},on:{\"update:visible\":function($event){_vm.dialogTableVisible=$event}}},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_vm._v(\"\\n              公司头像:\\n          \")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":16}},[_c('img',{staticClass:\"imgxId\",attrs:{\"src\":_vm.gridData_imgurl,\"alt\":\"\"}})])],1),_vm._v(\" \"),_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_vm._v(\"\\n              公司名称:\\n          \")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":16}},[_vm._v(\"\\n              \"+_vm._s(_vm.gridData.company_name)+\"\\n          \")])],1),_vm._v(\" \"),_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_vm._v(\"\\n              公司地址:\\n          \")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":16}},[_vm._v(\"\\n              \"+_vm._s(_vm.gridData.company_address)+\"\\n          \")])],1),_vm._v(\" \"),_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_vm._v(\"\\n              公司简介:\\n          \")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":16}},[_vm._v(\"\\n              \"+_vm._s(_vm.gridData.context ? _vm.gridData.context:'无')+\"\\n          \")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7ba3939e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/login/joincompany.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7ba3939e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./joincompany.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./joincompany.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./joincompany.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7ba3939e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./joincompany.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7ba3939e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/login/joincompany.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}