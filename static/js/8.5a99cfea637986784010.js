webpackJsonp([8],{IIkd:function(t,e,a){t.exports=a.p+"static/img/ceImg.10c21e6.jpg"},Y8UN:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Dd8w"),i=a.n(n),r=a("w7XY"),o=a("NYxO"),s={data:function(){return{tableData:[],gridData:[],dialogTableVisible:!1}},methods:{Fnget:function(){var t=this;r.a.allcompanylist().then(function(e){var a=[];e.data.data.forEach(function(t){t.fields.company_id=t.pk,a.push(t.fields)}),t.tableData=a}).catch(function(t){})},Fnagree:function(t){var e=this;r.a.activecompany({user_id:this.buserInfo.user_id,company_id:t}).then(function(t){e.Fnget()}).catch(function(t){})},filterTag:function(t,e){return e.active===t},Fndeactivecompany:function(t){var e=this;r.a.deactivecompany({user_id:this.buserInfo.user_id,company_id:t}).then(function(t){(t.data.code[0]="200")?e.$message.success(t.data.message[0]):e.$message.error(t.data.message[0]),e.Fnget()})},companyprofile:function(t){var e=this;this.dialogTableVisible=!0,r.a.companyprofile({company_id:t}).then(function(t){e.gridData=t.data.data[0].fields})}},mounted:function(){this.Fnget()},computed:i()({},Object(o.c)(["buserInfo"]))},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-table",{ref:"filterTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[n("el-table-column",{attrs:{prop:"company_name",label:"公司名称"}}),t._v(" "),n("el-table-column",{attrs:{prop:"active",label:"标签",width:"100",filters:[{text:"未激活",value:0},{text:"已激活",value:1}],"filter-method":t.filterTag,"filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-tag",{attrs:{type:0==e.row.active?"primary":"success","disable-transitions":""}},[t._v(t._s(0==e.row.active?"未激活":"已激活"))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作",width:"240"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.companyprofile(e.row.company_id)}}},[t._v("查看")]),t._v(" "),n("el-button",{directives:[{name:"show",rawName:"v-show",value:0==e.row.active,expression:"scope.row.active==0"}],attrs:{type:"success"},on:{click:function(a){return t.Fnagree(e.row.company_id)}}},[t._v("激活")]),t._v(" "),n("el-button",{directives:[{name:"show",rawName:"v-show",value:1==e.row.active,expression:"scope.row.active==1"}],attrs:{type:"danger"},on:{click:function(a){return t.Fndeactivecompany(e.row.company_id)}}},[t._v("停用")])]}}])})],1),t._v(" "),n("el-dialog",{attrs:{title:"公司详情",visible:t.dialogTableVisible},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:8}},[t._v("\n              公司头像:\n          ")]),t._v(" "),n("el-col",{attrs:{span:16}},[n("img",{staticClass:"imgxId",attrs:{src:a("IIkd"),alt:""}})])],1),t._v(" "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:8}},[t._v("\n              公司名称:\n          ")]),t._v(" "),n("el-col",{attrs:{span:16}},[t._v("\n              "+t._s(t.gridData.company_name)+"\n          ")])],1),t._v(" "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:8}},[t._v("\n              公司地址:\n          ")]),t._v(" "),n("el-col",{attrs:{span:16}},[t._v("\n              "+t._s(t.gridData.company_address)+"\n          ")])],1),t._v(" "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:8}},[t._v("\n              公司简介:\n          ")]),t._v(" "),n("el-col",{attrs:{span:16}},[t._v("\n              "+t._s(t.gridData.context?t.gridData.context:"无")+"\n          ")])],1)],1)],1)},staticRenderFns:[]};var l=a("VU/8")(s,c,!1,function(t){a("wfP2")},"data-v-23e70f23",null);e.default=l.exports},wfP2:function(t,e){}});
//# sourceMappingURL=8.5a99cfea637986784010.js.map